!function(e,t){"use strict";function r(e,t){return this instanceof r?("undefined"==typeof e&&(e="."),"undefined"==typeof t&&(t=!1),this.seperator=e,void(this.override=t)):new r(e,t)}function o(e){return function(){return n[e].apply(n,arguments)}}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}var n=new r(".",!1);r.prototype._fill=function(e,t,r,o){var i=e.shift();if(e.length>0){if(t[i]=t[i]||{},t[i]!==Object(t[i])){if(!this.override)throw new Error("Trying to redefine `"+i+"` which is a "+typeof t[i]);t[i]={}}this._fill(e,t[i],r,o)}else{if(t[i]===Object(t[i])&&Object.keys(t[i]).length)throw new Error("Trying to redefine non-empty obj['"+i+"']");t[i]=this.process(r,o)}},r.prototype.process=function(e,t){var r;if("function"==typeof t)e=t(e);else if(t instanceof Array)for(r=0;r<t.length;r++)e=t[r](e);return e},r.prototype.object=function(e,t){var r=this;Object.keys(e).forEach(function(o){var i=void 0===t?null:t[o];-1!==o.indexOf(r.seperator)?(r._fill(o.split(r.seperator),e,e[o],i),delete e[o]):r.override&&(e[o]=r.process(e[o],i))})},r.prototype.str=function(e,t,r,o){-1!==e.indexOf(this.seperator)?this._fill(e.split(this.seperator),r,t,o):this.override&&(r[e]=this.process(t,o))},r.prototype.pick=function(e,t,r){var o,i,n;if(-1!==e.indexOf(this.seperator)){for(i=e.split(this.seperator),o=0;o<i.length;o++){if(!(t&&"object"==typeof t&&i[o]in t))return void 0;if(o===i.length-1)return r?(n=t[i[o]],delete t[i[o]],n):t[i[o]];t=t[i[o]]}return t}return r?(n=t[e],delete t[e],n):t[e]},r.prototype.remove=function(e,t){return this.pick(e,t,!0)},r.prototype.del=r.prototype.remove,r.prototype.move=function(e,t,r,o){return this.set(t,this.pick(e,r,!0),r,o),r},r.prototype.transfer=function(e,t,r,o,i){return this.set(t,this.pick(e,r,!0),o,i),o},r.prototype.copy=function(e,t,r,o,i){return this.set(t,this.pick(e,r,!1),o,i),o},r.prototype.set=function(e,t,r,o){var n,s,f;if("undefined"==typeof t)return r;if(-1!==e.indexOf(this.seperator)){for(f=e.split(this.seperator),n=0;n<f.length;n++){if(n===f.length-1)if(o&&i(t)&&i(r[f[n]]))for(s in t)t.hasOwnProperty(s)&&(r[f[n]][s]=t[s]);else if(Array.isArray(r[f[n]])&&Array.isArray(t))for(var p=0;p<t.length;p++)r[f[n]].push(t[p]);else r[f[n]]=t;else r.hasOwnProperty(f[n])&&i(r[f[n]])||(r[f[n]]={});r=r[f[n]]}return r}if(o&&i(t))for(s in t)t.hasOwnProperty(s)&&(r[e][s]=t[s]);else Array.isArray(r[e])&&Array.isArray(t)?r[e].push(t):r[e]=t;return r},r.pick=o("pick"),r.move=o("move"),r.transfer=o("transfer"),r.copy=o("copy"),r.object=o("object"),r.str=o("str"),r.set=o("set"),r.del=r.remove=o("remove"),"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:e[t]=r}(this,"DotObject");