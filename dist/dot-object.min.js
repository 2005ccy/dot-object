!function(e,t){"use strict";function r(e,t){var r,i;if("function"==typeof t)i=t(e),void 0!==i&&(e=i);else if(Array.isArray(t))for(r=0;r<t.length;r++)i=t[r](e),void 0!==i&&(e=i);return e}function i(e,t){return"-"===e[0]&&Array.isArray(t)&&/-\d+/.test(e)?t.length+parseInt(e,10):e}function o(e,t){return this instanceof o?("undefined"==typeof e&&(e="."),"undefined"==typeof t&&(t=!1),this.seperator=e,void(this.override=t)):new o(e,t)}function n(e){return function(){return f[e].apply(f,arguments)}}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}var f=new o(".",!1);o.prototype._fill=function(e,t,i,o){var n=e.shift();if(e.length>0){if(t[n]=t[n]||{},t[n]!==Object(t[n])){if(!this.override)throw new Error("Trying to redefine `"+n+"` which is a "+typeof t[n]);t[n]={}}this._fill(e,t[n],i,o)}else{if(t[n]===Object(t[n])&&Object.keys(t[n]).length)throw new Error("Trying to redefine non-empty obj['"+n+"']");t[n]=r(i,o)}},o.prototype.object=function(e,t){var i=this;Object.keys(e).forEach(function(o){var n=void 0===t?null:t[o];-1!==o.indexOf(i.seperator)?(i._fill(o.split(i.seperator),e,e[o],n),delete e[o]):i.override&&(e[o]=r(e[o],n))})},o.prototype.str=function(e,t,i,o){-1!==e.indexOf(this.seperator)?this._fill(e.split(this.seperator),i,t,o):this.override&&(i[e]=r(t,o))},o.prototype.pick=function(e,t,r){var o,n,s,f;if(-1!==e.indexOf(this.seperator)){for(n=e.split(this.seperator),o=0;o<n.length;o++){if(f=i(n[o],t),!(t&&"object"==typeof t&&f in t))return void 0;if(o===n.length-1)return r?(s=t[f],delete t[f],s):t[f];t=t[f]}return t}return r?(s=t[e],delete t[e],s):t[e]},o.prototype.remove=function(e,t){return this.pick(e,t,!0)},o.prototype.del=o.prototype.remove,o.prototype.move=function(e,t,i,o,n){return"function"==typeof o||Array.isArray(o)?this.set(t,r(this.pick(e,i,!0),o),i,n):(n=o,this.set(t,this.pick(e,i,!0),i,n)),i},o.prototype.transfer=function(e,t,i,o,n,s){return"function"==typeof n||Array.isArray(n)?this.set(t,r(this.pick(e,i,!0),n),o,s):(s=n,this.set(t,this.pick(e,i,!0),o,s)),o},o.prototype.copy=function(e,t,i,o,n,s){return"function"==typeof n||Array.isArray(n)?this.set(t,r(JSON.parse(JSON.stringify(this.pick(e,i,!1))),n),o,s):(s=n,this.set(t,this.pick(e,i,!1),o,s)),o},o.prototype.set=function(e,t,r,i){var o,n,f;if("undefined"==typeof t)return r;if(-1!==e.indexOf(this.seperator)){for(f=e.split(this.seperator),o=0;o<f.length;o++){if(o===f.length-1)if(i&&s(t)&&s(r[f[o]]))for(n in t)t.hasOwnProperty(n)&&(r[f[o]][n]=t[n]);else if(Array.isArray(r[f[o]])&&Array.isArray(t))for(var p=0;p<t.length;p++)r[f[o]].push(t[p]);else r[f[o]]=t;else r.hasOwnProperty(f[o])&&s(r[f[o]])||(r[f[o]]={});r=r[f[o]]}return r}if(i&&s(t))for(n in t)t.hasOwnProperty(n)&&(r[e][n]=t[n]);else Array.isArray(r[e])&&Array.isArray(t)?r[e].push(t):r[e]=t;return r},o.pick=n("pick"),o.move=n("move"),o.transfer=n("transfer"),o.copy=n("copy"),o.object=n("object"),o.str=n("str"),o.set=n("set"),o.del=o.remove=n("remove"),o._process=r,"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:e[t]=o}(this,"DotObject");