!function(e,t){"use strict";function r(e,t){var r,i;if("function"==typeof t)i=t(e),void 0!==i&&(e=i);else if(Array.isArray(t))for(r=0;r<t.length;r++)i=t[r](e),void 0!==i&&(e=i);return e}function i(e,t){return this instanceof i?("undefined"==typeof e&&(e="."),"undefined"==typeof t&&(t=!1),this.seperator=e,void(this.override=t)):new i(e,t)}function o(e){return function(){return s[e].apply(s,arguments)}}function n(e){return"[object Object]"===Object.prototype.toString.call(e)}var s=new i(".",!1);i.prototype._fill=function(e,t,i,o){var n=e.shift();if(e.length>0){if(t[n]=t[n]||{},t[n]!==Object(t[n])){if(!this.override)throw new Error("Trying to redefine `"+n+"` which is a "+typeof t[n]);t[n]={}}this._fill(e,t[n],i,o)}else{if(t[n]===Object(t[n])&&Object.keys(t[n]).length)throw new Error("Trying to redefine non-empty obj['"+n+"']");t[n]=r(i,o)}},i.prototype.object=function(e,t){var i=this;Object.keys(e).forEach(function(o){var n=void 0===t?null:t[o];-1!==o.indexOf(i.seperator)?(i._fill(o.split(i.seperator),e,e[o],n),delete e[o]):i.override&&(e[o]=r(e[o],n))})},i.prototype.str=function(e,t,i,o){-1!==e.indexOf(this.seperator)?this._fill(e.split(this.seperator),i,t,o):this.override&&(i[e]=r(t,o))},i.prototype.pick=function(e,t,r){var i,o,n;if(-1!==e.indexOf(this.seperator)){for(o=e.split(this.seperator),i=0;i<o.length;i++){if(!(t&&"object"==typeof t&&o[i]in t))return void 0;if(i===o.length-1)return r?(n=t[o[i]],delete t[o[i]],n):t[o[i]];t=t[o[i]]}return t}return r?(n=t[e],delete t[e],n):t[e]},i.prototype.remove=function(e,t){return this.pick(e,t,!0)},i.prototype.del=i.prototype.remove,i.prototype.move=function(e,t,i,o,n){return"function"==typeof o||Array.isArray(o)?this.set(t,r(this.pick(e,i,!0),o),i,n):(n=o,this.set(t,this.pick(e,i,!0),i,n)),i},i.prototype.transfer=function(e,t,i,o,n,s){return"function"==typeof n||Array.isArray(n)?this.set(t,r(this.pick(e,i,!0),n),o,s):(s=n,this.set(t,this.pick(e,i,!0),o,s)),o},i.prototype.copy=function(e,t,i,o,n,s){return"function"==typeof n||Array.isArray(n)?this.set(t,r(JSON.parse(JSON.stringify(this.pick(e,i,!1))),n),o,s):(s=n,this.set(t,this.pick(e,i,!1),o,s)),o},i.prototype.set=function(e,t,r,i){var o,s,f;if("undefined"==typeof t)return r;if(-1!==e.indexOf(this.seperator)){for(f=e.split(this.seperator),o=0;o<f.length;o++){if(o===f.length-1)if(i&&n(t)&&n(r[f[o]]))for(s in t)t.hasOwnProperty(s)&&(r[f[o]][s]=t[s]);else if(Array.isArray(r[f[o]])&&Array.isArray(t))for(var p=0;p<t.length;p++)r[f[o]].push(t[p]);else r[f[o]]=t;else r.hasOwnProperty(f[o])&&n(r[f[o]])||(r[f[o]]={});r=r[f[o]]}return r}if(i&&n(t))for(s in t)t.hasOwnProperty(s)&&(r[e][s]=t[s]);else Array.isArray(r[e])&&Array.isArray(t)?r[e].push(t):r[e]=t;return r},i.pick=o("pick"),i.move=o("move"),i.transfer=o("transfer"),i.copy=o("copy"),i.object=o("object"),i.str=o("str"),i.set=o("set"),i.del=i.remove=o("remove"),i._process=r,"function"==typeof define&&define.amd?define(function(){return i}):"undefined"!=typeof module&&module.exports?module.exports=i:e[t]=i}(this,"DotObject");